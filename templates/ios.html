<!DOCTYPE html>
<html>
<head><title>Connexion Wi-Fi - iOS</title></head>
<body>
  <h3>Connexion au réseau Wi-Fi (iOS)</h3>
  <form action="/submit" method="POST" onsubmit="submitForm()">
    <input type="text" name="login" placeholder="Identifiant"><br>
    <input type="password" name="password" placeholder="Mot de passe"><br>
    
    <!-- Champs cachés pour envoyer la durée et le nombre de clics -->
    <input type="hidden" name="session_start" id="session_start">
    <input type="hidden" name="click_count" id="click_count">
    
    <button type="submit">Se connecter</button>
  </form>

  <script>
    let startTime = Date.now();
    let clickCount = 0;

    // Démarre la session
    document.getElementById("session_start").value = startTime;

    // Compter le nombre de clics
    document.querySelector('form').addEventListener('click', function () {
      clickCount++;
      document.getElementById("click_count").value = clickCount;
    });
    
    // Fonction pour envoyer la durée et le nombre de clics
    function submitForm() {
      let duration = Date.now() - startTime;
      document.getElementById("session_start").value = duration;
    }
  </script>
</body>
</html>
